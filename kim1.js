
function Kim1(){

    this.curaddr = 0x200;
    this.input=""
    this.mode = 0;  // 0 is address mode, 1 is data 

    this.sst=false;

    this.update = function(){
	if (typeof  memory.get(this.curaddr) == "undefined")  memory.set(this.curaddr,0);
	
	display.setValue(pad(this.curaddr.toString(16),4) + "  " + pad( memory.get(this.curaddr).toString(16),2));
	console.log ("Current address is 0x"+this.curaddr.toString(16));
	console.log ("Current value is 0x"+memory.get(this.curaddr));
	console.log("input is:" +this.input);        
	
    }

}

 var display = new SegmentDisplay("display");

var memory = Memory();
var simulator = Simulator();
  var kim = new Kim1();
$(function(){

  
   
    display.pattern         = "####  ##";
    display.displayAngle    = 0;
    display.digitHeight     = 18;
    display.digitWidth      = 12;
    display.digitDistance   = 2.5;
    display.segmentWidth    = 1;
    display.segmentDistance = 0.3;
    display.segmentCount    = 7;
    display.cornerType      = 3;
    display.colorOn         = "#e95d0f";
    display.colorOff        = "#4b1e05";
    display.draw();
    display.setValue("0200  00");


    simulator.reset();
    loadRom();
    var example_code = ["0010 01\n0011 02\n0200 A5 10\n0202 A6 11\n0204 85 11\n0206 86 10\n0208 00"];
    $('#sst').change(function(){
	if ($(this).is(':checked')){
	    kim.sst = true;
	    
	}else{
	    kim.sst = false;
	}
	console.log ("SST is "+kim.sst);
    });

    $('#load').click(function(){
	var src = $('#quickedit').val();
	var lines = src.split("\n");
	var addr=0;
	for (var i = 0; i<lines.length;i++){
	    var vals = lines[i].split(' ');
	    addr = vals.shift();
	    for (var j=0;j<vals.length;j++){
		memory.set(parseInt(addr,16),parseInt(vals[j],16));
		addr++;
	    }
	}
    });

    $('#examples').change(function(){
	if ($(this).val() > -1){
	    $('#quickedit').val( example_code[$(this).val()]);
	}
    });
    $('.Btn').click(function(){
	id = $(this).attr("id").replace('btn_','');
	console.log("pressed "+id);
	switch (id){
	case "go":
            if (!kim.sst){
		simulator.runBinary();
	    }else{
		simulator.start();
		simulator.step();
	    }
	    break;
	    
	case "st":
	    simlulator.stop();
	    break;
	    
	case "rs":
	    simulator.reset();
	    loadRom();
	    break;
	    
	case "ad":
	    kim.mode = 0;
	    
	    kim.input = "";
	    break;
	    
	case "da":
	    
	    kim.input = "";
	    kim.mode = 1;
	    break;
	    
	case "pc":
	    if (kim.sst) kim.curaddr = simulator.getPC();
	    break;

	case "plus":
	    
	    kim.input = "";
	    kim.curaddr++;
	    break;

	case "0":    
	case "1":
	case "2":
	case "3":
	case "4":
	case "5":
	case "6":
	case "7":
	case "8":
	case "9":
	case "a":
	case "b":
	case "c":
	case "d":
	case "e":
	case "f":
	    if ((kim.mode == 1 && kim.curaddr<0x1800) || kim.mode==0)
	    kim.input += id.toUpperCase();
	    if (kim.mode == 0) kim.curaddr = parseInt(kim.input,16);
	    if (kim.mode == 1 && parseInt(kim.input,16)<6144) memory.set(kim.curaddr,parseInt(kim.input,16));
	    break;
	}

	kim.update();
	if (!kim.sst) simulator.setPC(kim.curaddr);

    });
    

});

function pad(num, size) {
    var s = num+"";
    while (s.length < size) s = "0" + s;
    return s;
}

// There are better ways to do this, but I generated this with a ruby script that read the rom's source code
function loadRom(){
    memory.set(0x1c00,'85');
    memory.set(0x1c01,'F3');
    memory.set(0x1c02,'68');
    memory.set(0x1c03,'85');
    memory.set(0x1c04,'F1');
    memory.set(0x1c05,'68');
    memory.set(0x1c06,'85');
    memory.set(0x1c07,'EF');
    memory.set(0x1c08,'85');
    memory.set(0x1c09,'FA');
    memory.set(0x1c0a,'68');
    memory.set(0x1c0b,'85');
    memory.set(0x1c0c,'F0');
    memory.set(0x1c0d,'85');
    memory.set(0x1c0e,'FB');
    memory.set(0x1c0f,'84');
    memory.set(0x1c10,'F4');
    memory.set(0x1c11,'86');
    memory.set(0x1c12,'F5');
    memory.set(0x1c13,'BA');
    memory.set(0x1c14,'86');
    memory.set(0x1c15,'F2');
    memory.set(0x1c16,'20');
    memory.set(0x1c17,'88');
    memory.set(0x1c18,'1E');
    memory.set(0x1c19,'4C');
    memory.set(0x1c1a,'4F');
    memory.set(0x1c1b,'1C');
    memory.set(0x1c1c,'6C');
    memory.set(0x1c1d,'FA');
    memory.set(0x1c1e,'17');
    memory.set(0x1c1f,'6C');
    memory.set(0x1c20,'FE');
    memory.set(0x1c21,'17');
    memory.set(0x1c22,'A2');
    memory.set(0x1c23,'FF');
    memory.set(0x1c24,'9A');
    memory.set(0x1c25,'86');
    memory.set(0x1c26,'F2');
    memory.set(0x1c27,'20');
    memory.set(0x1c28,'88');
    memory.set(0x1c29,'1E');
    memory.set(0x1c2a,'A9');
    memory.set(0x1c2b,'FF');
    memory.set(0x1c2c,'8D');
    memory.set(0x1c2d,'F3');
    memory.set(0x1c2e,'17');
    memory.set(0x1c2f,'A9');
    memory.set(0x1c30,'01');
    memory.set(0x1c31,'2C');
    memory.set(0x1c32,'40');
    memory.set(0x1c33,'17');
    memory.set(0x1c34,'D0');
    memory.set(0x1c35,'19');
    memory.set(0x1c36,'30');
    memory.set(0x1c37,'F9');
    memory.set(0x1c38,'A9');
    memory.set(0x1c39,'FC');
    memory.set(0x1c3a,'18');
    memory.set(0x1c3b,'69');
    memory.set(0x1c3c,'01');
    memory.set(0x1c3d,'90');
    memory.set(0x1c3e,'03');
    memory.set(0x1c3f,'EE');
    memory.set(0x1c40,'F3');
    memory.set(0x1c41,'17');
    memory.set(0x1c42,'AC');
    memory.set(0x1c43,'40');
    memory.set(0x1c44,'17');
    memory.set(0x1c45,'10');
    memory.set(0x1c46,'F3');
    memory.set(0x1c47,'8D');
    memory.set(0x1c48,'F2');
    memory.set(0x1c49,'17');
    memory.set(0x1c4a,'A2');
    memory.set(0x1c4b,'08');
    memory.set(0x1c4c,'20');
    memory.set(0x1c4d,'6A');
    memory.set(0x1c4e,'1E');
    memory.set(0x1c4f,'20');
    memory.set(0x1c50,'8C');
    memory.set(0x1c51,'1E');
    memory.set(0x1c52,'A9');
    memory.set(0x1c53,'01');
    memory.set(0x1c54,'2C');
    memory.set(0x1c55,'40');
    memory.set(0x1c56,'17');
    memory.set(0x1c57,'D0');
    memory.set(0x1c58,'1E');
    memory.set(0x1c59,'20');
    memory.set(0x1c5a,'2F');
    memory.set(0x1c5b,'1E');
    memory.set(0x1c5c,'A2');
    memory.set(0x1c5d,'0A');
    memory.set(0x1c5e,'20');
    memory.set(0x1c5f,'31');
    memory.set(0x1c60,'1E');
    memory.set(0x1c61,'4C');
    memory.set(0x1c62,'AF');
    memory.set(0x1c63,'1D');
    memory.set(0x1c64,'A9');
    memory.set(0x1c65,'00');
    memory.set(0x1c66,'85');
    memory.set(0x1c67,'F8');
    memory.set(0x1c68,'85');
    memory.set(0x1c69,'F9');
    memory.set(0x1c6a,'20');
    memory.set(0x1c6b,'5A');
    memory.set(0x1c6c,'1E');
    memory.set(0x1c6d,'C9');
    memory.set(0x1c6e,'01');
    memory.set(0x1c6f,'F0');
    memory.set(0x1c70,'06');
    memory.set(0x1c71,'20');
    memory.set(0x1c72,'AC');
    memory.set(0x1c73,'1F');
    memory.set(0x1c74,'4C');
    memory.set(0x1c75,'DB');
    memory.set(0x1c76,'1D');
    memory.set(0x1c77,'20');
    memory.set(0x1c78,'19');
    memory.set(0x1c79,'1F');
    memory.set(0x1c7a,'D0');
    memory.set(0x1c7b,'D3');
    memory.set(0x1c7c,'A9');
    memory.set(0x1c7d,'01');
    memory.set(0x1c7e,'2C');
    memory.set(0x1c7f,'40');
    memory.set(0x1c80,'17');
    memory.set(0x1c81,'F0');
    memory.set(0x1c82,'CC');
    memory.set(0x1c83,'20');
    memory.set(0x1c84,'19');
    memory.set(0x1c85,'1F');
    memory.set(0x1c86,'F0');
    memory.set(0x1c87,'F4');
    memory.set(0x1c88,'20');
    memory.set(0x1c89,'19');
    memory.set(0x1c8a,'1F');
    memory.set(0x1c8b,'F0');
    memory.set(0x1c8c,'EF');
    memory.set(0x1c8d,'20');
    memory.set(0x1c8e,'6A');
    memory.set(0x1c8f,'1F');
    memory.set(0x1c90,'C9');
    memory.set(0x1c91,'15');
    memory.set(0x1c92,'10');
    memory.set(0x1c93,'BB');
    memory.set(0x1c94,'C9');
    memory.set(0x1c95,'14');
    memory.set(0x1c96,'F0');
    memory.set(0x1c97,'44');
    memory.set(0x1c98,'C9');
    memory.set(0x1c99,'10');
    memory.set(0x1c9a,'F0');
    memory.set(0x1c9b,'2C');
    memory.set(0x1c9c,'C9');
    memory.set(0x1c9d,'11');
    memory.set(0x1c9e,'F0');
    memory.set(0x1c9f,'2C');
    memory.set(0x1ca0,'C9');
    memory.set(0x1ca1,'12');
    memory.set(0x1ca2,'F0');
    memory.set(0x1ca3,'2F');
    memory.set(0x1ca4,'C9');
    memory.set(0x1ca5,'13');
    memory.set(0x1ca6,'F0');
    memory.set(0x1ca7,'31');
    memory.set(0x1ca8,'0A');
    memory.set(0x1ca9,'0A');
    memory.set(0x1caa,'0A');
    memory.set(0x1cab,'0A');
    memory.set(0x1cac,'85');
    memory.set(0x1cad,'FC');
    memory.set(0x1cae,'A2');
    memory.set(0x1caf,'04');
    memory.set(0x1cb0,'A4');
    memory.set(0x1cb1,'FF');
    memory.set(0x1cb2,'D0');
    memory.set(0x1cb3,'0A');
    memory.set(0x1cb4,'B1');
    memory.set(0x1cb5,'FA');
    memory.set(0x1cb6,'06');
    memory.set(0x1cb7,'FC');
    memory.set(0x1cb8,'2A');
    memory.set(0x1cb9,'91');
    memory.set(0x1cba,'FA');
    memory.set(0x1cbb,'4C');
    memory.set(0x1cbc,'C3');
    memory.set(0x1cbd,'1C');
    memory.set(0x1cbe,'0A');
    memory.set(0x1cbf,'26');
    memory.set(0x1cc0,'FA');
    memory.set(0x1cc1,'26');
    memory.set(0x1cc2,'FB');
    memory.set(0x1cc3,'CA');
    memory.set(0x1cc4,'D0');
    memory.set(0x1cc5,'EA');
    memory.set(0x1cc6,'F0');
    memory.set(0x1cc7,'08');
    memory.set(0x1cc8,'A9');
    memory.set(0x1cc9,'01');
    memory.set(0x1cca,'D0');
    memory.set(0x1ccb,'02');
    memory.set(0x1ccc,'A9');
    memory.set(0x1ccd,'00');
    memory.set(0x1cce,'85');
    memory.set(0x1ccf,'FF');
    memory.set(0x1cd0,'4C');
    memory.set(0x1cd1,'4F');
    memory.set(0x1cd2,'1C');
    memory.set(0x1cd3,'20');
    memory.set(0x1cd4,'63');
    memory.set(0x1cd5,'1F');
    memory.set(0x1cd6,'4C');
    memory.set(0x1cd7,'4F');
    memory.set(0x1cd8,'1C');
    memory.set(0x1cd9,'4C');
    memory.set(0x1cda,'C8');
    memory.set(0x1cdb,'1D');
    memory.set(0x1cdc,'A5');
    memory.set(0x1cdd,'EF');
    memory.set(0x1cde,'85');
    memory.set(0x1cdf,'FA');
    memory.set(0x1ce0,'A5');
    memory.set(0x1ce1,'F0');
    memory.set(0x1ce2,'85');
    memory.set(0x1ce3,'FB');
    memory.set(0x1ce4,'4C');
    memory.set(0x1ce5,'4F');
    memory.set(0x1ce6,'1C');
    memory.set(0x1ce7,'20');
    memory.set(0x1ce8,'5A');
    memory.set(0x1ce9,'1E');
    memory.set(0x1cea,'C9');
    memory.set(0x1ceb,'3B');
    memory.set(0x1cec,'D0');
    memory.set(0x1ced,'F9');
    memory.set(0x1cee,'A9');
    memory.set(0x1cef,'00');
    memory.set(0x1cf0,'85');
    memory.set(0x1cf1,'F7');
    memory.set(0x1cf2,'85');
    memory.set(0x1cf3,'F6');
    memory.set(0x1cf4,'20');
    memory.set(0x1cf5,'9D');
    memory.set(0x1cf6,'1F');
    memory.set(0x1cf7,'AA');
    memory.set(0x1cf8,'20');
    memory.set(0x1cf9,'91');
    memory.set(0x1cfa,'1F');
    memory.set(0x1cfb,'20');
    memory.set(0x1cfc,'9D');
    memory.set(0x1cfd,'1F');
    memory.set(0x1cfe,'85');
    memory.set(0x1cff,'FB');
    memory.set(0x1d00,'20');
    memory.set(0x1d01,'91');
    memory.set(0x1d02,'1F');
    memory.set(0x1d03,'20');
    memory.set(0x1d04,'9D');
    memory.set(0x1d05,'1F');
    memory.set(0x1d06,'85');
    memory.set(0x1d07,'FA');
    memory.set(0x1d08,'20');
    memory.set(0x1d09,'91');
    memory.set(0x1d0a,'1F');
    memory.set(0x1d0b,'8A');
    memory.set(0x1d0c,'F0');
    memory.set(0x1d0d,'0F');
    memory.set(0x1d0e,'20');
    memory.set(0x1d0f,'9D');
    memory.set(0x1d10,'1F');
    memory.set(0x1d11,'91');
    memory.set(0x1d12,'FA');
    memory.set(0x1d13,'20');
    memory.set(0x1d14,'91');
    memory.set(0x1d15,'1F');
    memory.set(0x1d16,'20');
    memory.set(0x1d17,'63');
    memory.set(0x1d18,'1F');
    memory.set(0x1d19,'CA');
    memory.set(0x1d1a,'D0');
    memory.set(0x1d1b,'F2');
    memory.set(0x1d1c,'E8');
    memory.set(0x1d1d,'20');
    memory.set(0x1d1e,'9D');
    memory.set(0x1d1f,'1F');
    memory.set(0x1d20,'C5');
    memory.set(0x1d21,'F6');
    memory.set(0x1d22,'D0');
    memory.set(0x1d23,'17');
    memory.set(0x1d24,'20');
    memory.set(0x1d25,'9D');
    memory.set(0x1d26,'1F');
    memory.set(0x1d27,'C5');
    memory.set(0x1d28,'F7');
    memory.set(0x1d29,'D0');
    memory.set(0x1d2a,'13');
    memory.set(0x1d2b,'8A');
    memory.set(0x1d2c,'D0');
    memory.set(0x1d2d,'B9');
    memory.set(0x1d2e,'A2');
    memory.set(0x1d2f,'0C');
    memory.set(0x1d30,'A9');
    memory.set(0x1d31,'27');
    memory.set(0x1d32,'8D');
    memory.set(0x1d33,'42');
    memory.set(0x1d34,'17');
    memory.set(0x1d35,'20');
    memory.set(0x1d36,'31');
    memory.set(0x1d37,'1E');
    memory.set(0x1d38,'4C');
    memory.set(0x1d39,'4F');
    memory.set(0x1d3a,'1C');
    memory.set(0x1d3b,'20');
    memory.set(0x1d3c,'9D');
    memory.set(0x1d3d,'1F');
    memory.set(0x1d3e,'A2');
    memory.set(0x1d3f,'11');
    memory.set(0x1d40,'D0');
    memory.set(0x1d41,'EE');
    memory.set(0x1d42,'A9');
    memory.set(0x1d43,'00');
    memory.set(0x1d44,'85');
    memory.set(0x1d45,'F8');
    memory.set(0x1d46,'85');
    memory.set(0x1d47,'F9');
    memory.set(0x1d48,'A9');
    memory.set(0x1d49,'00');
    memory.set(0x1d4a,'85');
    memory.set(0x1d4b,'F6');
    memory.set(0x1d4c,'85');
    memory.set(0x1d4d,'F7');
    memory.set(0x1d4e,'20');
    memory.set(0x1d4f,'2F');
    memory.set(0x1d50,'1E');
    memory.set(0x1d51,'A9');
    memory.set(0x1d52,'3B');
    memory.set(0x1d53,'20');
    memory.set(0x1d54,'A0');
    memory.set(0x1d55,'1E');
    memory.set(0x1d56,'A5');
    memory.set(0x1d57,'FA');
    memory.set(0x1d58,'CD');
    memory.set(0x1d59,'F7');
    memory.set(0x1d5a,'17');
    memory.set(0x1d5b,'A5');
    memory.set(0x1d5c,'FB');
    memory.set(0x1d5d,'ED');
    memory.set(0x1d5e,'F8');
    memory.set(0x1d5f,'17');
    memory.set(0x1d60,'90');
    memory.set(0x1d61,'18');
    memory.set(0x1d62,'A9');
    memory.set(0x1d63,'00');
    memory.set(0x1d64,'20');
    memory.set(0x1d65,'3B');
    memory.set(0x1d66,'1E');
    memory.set(0x1d67,'20');
    memory.set(0x1d68,'CC');
    memory.set(0x1d69,'1F');
    memory.set(0x1d6a,'20');
    memory.set(0x1d6b,'1E');
    memory.set(0x1d6c,'1E');
    memory.set(0x1d6d,'A5');
    memory.set(0x1d6e,'F6');
    memory.set(0x1d6f,'20');
    memory.set(0x1d70,'3B');
    memory.set(0x1d71,'1E');
    memory.set(0x1d72,'A5');
    memory.set(0x1d73,'F7');
    memory.set(0x1d74,'20');
    memory.set(0x1d75,'3B');
    memory.set(0x1d76,'1E');
    memory.set(0x1d77,'4C');
    memory.set(0x1d78,'64');
    memory.set(0x1d79,'1C');
    memory.set(0x1d7a,'A9');
    memory.set(0x1d7b,'18');
    memory.set(0x1d7c,'AA');
    memory.set(0x1d7d,'20');
    memory.set(0x1d7e,'3B');
    memory.set(0x1d7f,'1E');
    memory.set(0x1d80,'20');
    memory.set(0x1d81,'91');
    memory.set(0x1d82,'1F');
    memory.set(0x1d83,'20');
    memory.set(0x1d84,'1E');
    memory.set(0x1d85,'1E');
    memory.set(0x1d86,'A0');
    memory.set(0x1d87,'00');
    memory.set(0x1d88,'B1');
    memory.set(0x1d89,'FA');
    memory.set(0x1d8a,'20');
    memory.set(0x1d8b,'3B');
    memory.set(0x1d8c,'1E');
    memory.set(0x1d8d,'20');
    memory.set(0x1d8e,'91');
    memory.set(0x1d8f,'1F');
    memory.set(0x1d90,'20');
    memory.set(0x1d91,'63');
    memory.set(0x1d92,'1F');
    memory.set(0x1d93,'CA');
    memory.set(0x1d94,'D0');
    memory.set(0x1d95,'F0');
    memory.set(0x1d96,'A5');
    memory.set(0x1d97,'F6');
    memory.set(0x1d98,'20');
    memory.set(0x1d99,'3B');
    memory.set(0x1d9a,'1E');
    memory.set(0x1d9b,'A5');
    memory.set(0x1d9c,'F7');
    memory.set(0x1d9d,'20');
    memory.set(0x1d9e,'3B');
    memory.set(0x1d9f,'1E');
    memory.set(0x1da0,'E6');
    memory.set(0x1da1,'F8');
    memory.set(0x1da2,'D0');
    memory.set(0x1da3,'02');
    memory.set(0x1da4,'E6');
    memory.set(0x1da5,'F9');
    memory.set(0x1da6,'4C');
    memory.set(0x1da7,'48');
    memory.set(0x1da8,'1D');
    memory.set(0x1da9,'20');
    memory.set(0x1daa,'CC');
    memory.set(0x1dab,'1F');
    memory.set(0x1dac,'20');
    memory.set(0x1dad,'2F');
    memory.set(0x1dae,'1E');
    memory.set(0x1daf,'20');
    memory.set(0x1db0,'1E');
    memory.set(0x1db1,'1E');
    memory.set(0x1db2,'20');
    memory.set(0x1db3,'9E');
    memory.set(0x1db4,'1E');
    memory.set(0x1db5,'A0');
    memory.set(0x1db6,'00');
    memory.set(0x1db7,'B1');
    memory.set(0x1db8,'FA');
    memory.set(0x1db9,'20');
    memory.set(0x1dba,'3B');
    memory.set(0x1dbb,'1E');
    memory.set(0x1dbc,'20');
    memory.set(0x1dbd,'9E');
    memory.set(0x1dbe,'1E');
    memory.set(0x1dbf,'4C');
    memory.set(0x1dc0,'64');
    memory.set(0x1dc1,'1C');
    memory.set(0x1dc2,'20');
    memory.set(0x1dc3,'63');
    memory.set(0x1dc4,'1F');
    memory.set(0x1dc5,'4C');
    memory.set(0x1dc6,'AC');
    memory.set(0x1dc7,'1D');
    memory.set(0x1dc8,'A6');
    memory.set(0x1dc9,'F2');
    memory.set(0x1dca,'9A');
    memory.set(0x1dcb,'A5');
    memory.set(0x1dcc,'FB');
    memory.set(0x1dcd,'48');
    memory.set(0x1dce,'A5');
    memory.set(0x1dcf,'FA');
    memory.set(0x1dd0,'48');
    memory.set(0x1dd1,'A5');
    memory.set(0x1dd2,'F1');
    memory.set(0x1dd3,'48');
    memory.set(0x1dd4,'A6');
    memory.set(0x1dd5,'F5');
    memory.set(0x1dd6,'A4');
    memory.set(0x1dd7,'F4');
    memory.set(0x1dd8,'A5');
    memory.set(0x1dd9,'F3');
    memory.set(0x1dda,'40');
    memory.set(0x1ddb,'C9');
    memory.set(0x1ddc,'20');
    memory.set(0x1ddd,'F0');
    memory.set(0x1dde,'CA');
    memory.set(0x1ddf,'C9');
    memory.set(0x1de0,'7F');
    memory.set(0x1de1,'F0');
    memory.set(0x1de2,'1B');
    memory.set(0x1de3,'C9');
    memory.set(0x1de4,'0D');
    memory.set(0x1de5,'F0');
    memory.set(0x1de6,'DB');
    memory.set(0x1de7,'C9');
    memory.set(0x1de8,'0A');
    memory.set(0x1de9,'F0');
    memory.set(0x1dea,'1C');
    memory.set(0x1deb,'C9');
    memory.set(0x1dec,'2E');
    memory.set(0x1ded,'F0');
    memory.set(0x1dee,'26');
    memory.set(0x1def,'C9');
    memory.set(0x1df0,'47');
    memory.set(0x1df1,'F0');
    memory.set(0x1df2,'D5');
    memory.set(0x1df3,'C9');
    memory.set(0x1df4,'51');
    memory.set(0x1df5,'F0');
    memory.set(0x1df6,'0A');
    memory.set(0x1df7,'C9');
    memory.set(0x1df8,'4C');
    memory.set(0x1df9,'F0');
    memory.set(0x1dfa,'09');
    memory.set(0x1dfb,'4C');
    memory.set(0x1dfc,'6A');
    memory.set(0x1dfd,'1C');
    memory.set(0x1dfe,'4C');
    memory.set(0x1dff,'4F');
    memory.set(0x1e00,'1C');
    memory.set(0x1e01,'4C');
    memory.set(0x1e02,'42');
    memory.set(0x1e03,'1D');
    memory.set(0x1e04,'4C');
    memory.set(0x1e05,'E7');
    memory.set(0x1e06,'1C');
    memory.set(0x1e07,'38');
    memory.set(0x1e08,'A5');
    memory.set(0x1e09,'FA');
    memory.set(0x1e0a,'E9');
    memory.set(0x1e0b,'01');
    memory.set(0x1e0c,'85');
    memory.set(0x1e0d,'FA');
    memory.set(0x1e0e,'B0');
    memory.set(0x1e0f,'02');
    memory.set(0x1e10,'C6');
    memory.set(0x1e11,'FB');
    memory.set(0x1e12,'4C');
    memory.set(0x1e13,'AC');
    memory.set(0x1e14,'1D');
    memory.set(0x1e15,'A0');
    memory.set(0x1e16,'00');
    memory.set(0x1e17,'A5');
    memory.set(0x1e18,'F8');
    memory.set(0x1e19,'91');
    memory.set(0x1e1a,'FA');
    memory.set(0x1e1b,'4C');
    memory.set(0x1e1c,'C2');
    memory.set(0x1e1d,'1D');
    memory.set(0x1e1e,'A5');
    memory.set(0x1e1f,'FB');
    memory.set(0x1e20,'20');
    memory.set(0x1e21,'3B');
    memory.set(0x1e22,'1E');
    memory.set(0x1e23,'20');
    memory.set(0x1e24,'91');
    memory.set(0x1e25,'1F');
    memory.set(0x1e26,'A5');
    memory.set(0x1e27,'FA');
    memory.set(0x1e28,'20');
    memory.set(0x1e29,'3B');
    memory.set(0x1e2a,'1E');
    memory.set(0x1e2b,'20');
    memory.set(0x1e2c,'91');
    memory.set(0x1e2d,'1F');
    memory.set(0x1e2e,'60');
    memory.set(0x1e2f,'A2');
    memory.set(0x1e30,'07');
    memory.set(0x1e31,'BD');
    memory.set(0x1e32,'D5');
    memory.set(0x1e33,'1F');
    memory.set(0x1e34,'20');
    memory.set(0x1e35,'A0');
    memory.set(0x1e36,'1E');
    memory.set(0x1e37,'CA');
    memory.set(0x1e38,'10');
    memory.set(0x1e39,'F7');
    memory.set(0x1e3a,'60');
    memory.set(0x1e3b,'85');
    memory.set(0x1e3c,'FC');
    memory.set(0x1e3d,'4A');
    memory.set(0x1e3e,'4A');
    memory.set(0x1e3f,'4A');
    memory.set(0x1e40,'4A');
    memory.set(0x1e41,'20');
    memory.set(0x1e42,'4C');
    memory.set(0x1e43,'1E');
    memory.set(0x1e44,'A5');
    memory.set(0x1e45,'FC');
    memory.set(0x1e46,'20');
    memory.set(0x1e47,'4C');
    memory.set(0x1e48,'1E');
    memory.set(0x1e49,'A5');
    memory.set(0x1e4a,'FC');
    memory.set(0x1e4b,'60');
    memory.set(0x1e4c,'29');
    memory.set(0x1e4d,'0F');
    memory.set(0x1e4e,'C9');
    memory.set(0x1e4f,'0A');
    memory.set(0x1e50,'18');
    memory.set(0x1e51,'30');
    memory.set(0x1e52,'02');
    memory.set(0x1e53,'69');
    memory.set(0x1e54,'07');
    memory.set(0x1e55,'69');
    memory.set(0x1e56,'30');
    memory.set(0x1e57,'4C');
    memory.set(0x1e58,'A0');
    memory.set(0x1e59,'1E');
    memory.set(0x1e5a,'86');
    memory.set(0x1e5b,'FD');
    memory.set(0x1e5c,'A2');
    memory.set(0x1e5d,'08');
    memory.set(0x1e5e,'A9');
    memory.set(0x1e5f,'01');
    memory.set(0x1e60,'2C');
    memory.set(0x1e61,'40');
    memory.set(0x1e62,'17');
    memory.set(0x1e63,'D0');
    memory.set(0x1e64,'22');
    memory.set(0x1e65,'30');
    memory.set(0x1e66,'F9');
    memory.set(0x1e67,'20');
    memory.set(0x1e68,'D4');
    memory.set(0x1e69,'1E');
    memory.set(0x1e6a,'20');
    memory.set(0x1e6b,'EB');
    memory.set(0x1e6c,'1E');
    memory.set(0x1e6d,'AD');
    memory.set(0x1e6e,'40');
    memory.set(0x1e6f,'17');
    memory.set(0x1e70,'29');
    memory.set(0x1e71,'80');
    memory.set(0x1e72,'46');
    memory.set(0x1e73,'FE');
    memory.set(0x1e74,'05');
    memory.set(0x1e75,'FE');
    memory.set(0x1e76,'85');
    memory.set(0x1e77,'FE');
    memory.set(0x1e78,'20');
    memory.set(0x1e79,'D4');
    memory.set(0x1e7a,'1E');
    memory.set(0x1e7b,'CA');
    memory.set(0x1e7c,'D0');
    memory.set(0x1e7d,'EF');
    memory.set(0x1e7e,'20');
    memory.set(0x1e7f,'EB');
    memory.set(0x1e80,'1E');
    memory.set(0x1e81,'A6');
    memory.set(0x1e82,'FD');
    memory.set(0x1e83,'A5');
    memory.set(0x1e84,'FE');
    memory.set(0x1e85,'2A');
    memory.set(0x1e86,'4A');
    memory.set(0x1e87,'60');
    memory.set(0x1e88,'A2');
    memory.set(0x1e89,'01');
    memory.set(0x1e8a,'86');
    memory.set(0x1e8b,'FF');
    memory.set(0x1e8c,'A2');
    memory.set(0x1e8d,'00');
    memory.set(0x1e8e,'8E');
    memory.set(0x1e8f,'41');
    memory.set(0x1e90,'17');
    memory.set(0x1e91,'A2');
    memory.set(0x1e92,'3F');
    memory.set(0x1e93,'8E');
    memory.set(0x1e94,'43');
    memory.set(0x1e95,'17');
    memory.set(0x1e96,'A2');
    memory.set(0x1e97,'07');
    memory.set(0x1e98,'8E');
    memory.set(0x1e99,'42');
    memory.set(0x1e9a,'17');
    memory.set(0x1e9b,'D8');
    memory.set(0x1e9c,'78');
    memory.set(0x1e9d,'60');
    memory.set(0x1e9e,'A9');
    memory.set(0x1e9f,'20');
    memory.set(0x1ea0,'85');
    memory.set(0x1ea1,'FE');
    memory.set(0x1ea2,'86');
    memory.set(0x1ea3,'FD');
    memory.set(0x1ea4,'20');
    memory.set(0x1ea5,'D4');
    memory.set(0x1ea6,'1E');
    memory.set(0x1ea7,'AD');
    memory.set(0x1ea8,'42');
    memory.set(0x1ea9,'17');
    memory.set(0x1eaa,'29');
    memory.set(0x1eab,'FE');
    memory.set(0x1eac,'8D');
    memory.set(0x1ead,'42');
    memory.set(0x1eae,'17');
    memory.set(0x1eaf,'20');
    memory.set(0x1eb0,'D4');
    memory.set(0x1eb1,'1E');
    memory.set(0x1eb2,'A2');
    memory.set(0x1eb3,'08');
    memory.set(0x1eb4,'AD');
    memory.set(0x1eb5,'42');
    memory.set(0x1eb6,'17');
    memory.set(0x1eb7,'29');
    memory.set(0x1eb8,'FE');
    memory.set(0x1eb9,'46');
    memory.set(0x1eba,'FE');
    memory.set(0x1ebb,'69');
    memory.set(0x1ebc,'00');
    memory.set(0x1ebd,'8D');
    memory.set(0x1ebe,'42');
    memory.set(0x1ebf,'17');
    memory.set(0x1ec0,'20');
    memory.set(0x1ec1,'D4');
    memory.set(0x1ec2,'1E');
    memory.set(0x1ec3,'CA');
    memory.set(0x1ec4,'D0');
    memory.set(0x1ec5,'EE');
    memory.set(0x1ec6,'AD');
    memory.set(0x1ec7,'42');
    memory.set(0x1ec8,'17');
    memory.set(0x1ec9,'09');
    memory.set(0x1eca,'01');
    memory.set(0x1ecb,'8D');
    memory.set(0x1ecc,'42');
    memory.set(0x1ecd,'17');
    memory.set(0x1ece,'20');
    memory.set(0x1ecf,'D4');
    memory.set(0x1ed0,'1E');
    memory.set(0x1ed1,'A6');
    memory.set(0x1ed2,'FD');
    memory.set(0x1ed3,'60');
    memory.set(0x1ed4,'AD');
    memory.set(0x1ed5,'F3');
    memory.set(0x1ed6,'17');
    memory.set(0x1ed7,'8D');
    memory.set(0x1ed8,'F4');
    memory.set(0x1ed9,'17');
    memory.set(0x1eda,'AD');
    memory.set(0x1edb,'F2');
    memory.set(0x1edc,'17');
    memory.set(0x1edd,'38');
    memory.set(0x1ede,'E9');
    memory.set(0x1edf,'01');
    memory.set(0x1ee0,'B0');
    memory.set(0x1ee1,'03');
    memory.set(0x1ee2,'CE');
    memory.set(0x1ee3,'F4');
    memory.set(0x1ee4,'17');
    memory.set(0x1ee5,'AC');
    memory.set(0x1ee6,'F4');
    memory.set(0x1ee7,'17');
    memory.set(0x1ee8,'10');
    memory.set(0x1ee9,'F3');
    memory.set(0x1eea,'60');
    memory.set(0x1eeb,'AD');
    memory.set(0x1eec,'F3');
    memory.set(0x1eed,'17');
    memory.set(0x1eee,'8D');
    memory.set(0x1eef,'F4');
    memory.set(0x1ef0,'17');
    memory.set(0x1ef1,'AD');
    memory.set(0x1ef2,'F2');
    memory.set(0x1ef3,'17');
    memory.set(0x1ef4,'4A');
    memory.set(0x1ef5,'4E');
    memory.set(0x1ef6,'F4');
    memory.set(0x1ef7,'17');
    memory.set(0x1ef8,'90');
    memory.set(0x1ef9,'E3');
    memory.set(0x1efa,'09');
    memory.set(0x1efb,'80');
    memory.set(0x1efc,'B0');
    memory.set(0x1efd,'E0');
    memory.set(0x1efe,'A0');
    memory.set(0x1eff,'03');
    memory.set(0x1f00,'A2');
    memory.set(0x1f01,'01');
    memory.set(0x1f02,'A9');
    memory.set(0x1f03,'FF');
    memory.set(0x1f04,'8E');
    memory.set(0x1f05,'42');
    memory.set(0x1f06,'17');
    memory.set(0x1f07,'E8');
    memory.set(0x1f08,'E8');
    memory.set(0x1f09,'2D');
    memory.set(0x1f0a,'40');
    memory.set(0x1f0b,'17');
    memory.set(0x1f0c,'88');
    memory.set(0x1f0d,'D0');
    memory.set(0x1f0e,'F5');
    memory.set(0x1f0f,'A0');
    memory.set(0x1f10,'07');
    memory.set(0x1f11,'8C');
    memory.set(0x1f12,'42');
    memory.set(0x1f13,'17');
    memory.set(0x1f14,'09');
    memory.set(0x1f15,'80');
    memory.set(0x1f16,'49');
    memory.set(0x1f17,'FF');
    memory.set(0x1f18,'60');
    memory.set(0x1f19,'A0');
    memory.set(0x1f1a,'00');
    memory.set(0x1f1b,'B1');
    memory.set(0x1f1c,'FA');
    memory.set(0x1f1d,'85');
    memory.set(0x1f1e,'F9');
    memory.set(0x1f1f,'A9');
    memory.set(0x1f20,'7F');
    memory.set(0x1f21,'8D');
    memory.set(0x1f22,'41');
    memory.set(0x1f23,'17');
    memory.set(0x1f24,'A2');
    memory.set(0x1f25,'09');
    memory.set(0x1f26,'A0');
    memory.set(0x1f27,'03');
    memory.set(0x1f28,'B9');
    memory.set(0x1f29,'F8');
    memory.set(0x1f2a,'00');
    memory.set(0x1f2b,'4A');
    memory.set(0x1f2c,'4A');
    memory.set(0x1f2d,'4A');
    memory.set(0x1f2e,'4A');
    memory.set(0x1f2f,'20');
    memory.set(0x1f30,'48');
    memory.set(0x1f31,'1F');
    memory.set(0x1f32,'B9');
    memory.set(0x1f33,'F8');
    memory.set(0x1f34,'00');
    memory.set(0x1f35,'29');
    memory.set(0x1f36,'0F');
    memory.set(0x1f37,'20');
    memory.set(0x1f38,'48');
    memory.set(0x1f39,'1F');
    memory.set(0x1f3a,'88');
    memory.set(0x1f3b,'D0');
    memory.set(0x1f3c,'EB');
    memory.set(0x1f3d,'8E');
    memory.set(0x1f3e,'42');
    memory.set(0x1f3f,'17');
    memory.set(0x1f40,'A9');
    memory.set(0x1f41,'00');
    memory.set(0x1f42,'8D');
    memory.set(0x1f43,'41');
    memory.set(0x1f44,'17');
    memory.set(0x1f45,'4C');
    memory.set(0x1f46,'FE');
    memory.set(0x1f47,'1E');
    memory.set(0x1f48,'84');
    memory.set(0x1f49,'FC');
    memory.set(0x1f4a,'A8');
    memory.set(0x1f4b,'B9');
    memory.set(0x1f4c,'E7');
    memory.set(0x1f4d,'1F');
    memory.set(0x1f4e,'A0');
    memory.set(0x1f4f,'00');
    memory.set(0x1f50,'8C');
    memory.set(0x1f51,'40');
    memory.set(0x1f52,'17');
    memory.set(0x1f53,'8E');
    memory.set(0x1f54,'42');
    memory.set(0x1f55,'17');
    memory.set(0x1f56,'8D');
    memory.set(0x1f57,'40');
    memory.set(0x1f58,'17');
    memory.set(0x1f59,'A0');
    memory.set(0x1f5a,'7F');
    memory.set(0x1f5b,'88');
    memory.set(0x1f5c,'D0');
    memory.set(0x1f5d,'FD');
    memory.set(0x1f5e,'E8');
    memory.set(0x1f5f,'E8');
    memory.set(0x1f60,'A4');
    memory.set(0x1f61,'FC');
    memory.set(0x1f62,'60');
    memory.set(0x1f63,'E6');
    memory.set(0x1f64,'FA');
    memory.set(0x1f65,'D0');
    memory.set(0x1f66,'02');
    memory.set(0x1f67,'E6');
    memory.set(0x1f68,'FB');
    memory.set(0x1f69,'60');
    memory.set(0x1f6a,'A2');
    memory.set(0x1f6b,'21');
    memory.set(0x1f6c,'A0');
    memory.set(0x1f6d,'01');
    memory.set(0x1f6e,'20');
    memory.set(0x1f6f,'02');
    memory.set(0x1f70,'1F');
    memory.set(0x1f71,'D0');
    memory.set(0x1f72,'07');
    memory.set(0x1f73,'E0');
    memory.set(0x1f74,'27');
    memory.set(0x1f75,'D0');
    memory.set(0x1f76,'F5');
    memory.set(0x1f77,'A9');
    memory.set(0x1f78,'15');
    memory.set(0x1f79,'60');
    memory.set(0x1f7a,'A0');
    memory.set(0x1f7b,'FF');
    memory.set(0x1f7c,'0A');
    memory.set(0x1f7d,'B0');
    memory.set(0x1f7e,'03');
    memory.set(0x1f7f,'C8');
    memory.set(0x1f80,'10');
    memory.set(0x1f81,'FA');
    memory.set(0x1f82,'8A');
    memory.set(0x1f83,'29');
    memory.set(0x1f84,'0F');
    memory.set(0x1f85,'4A');
    memory.set(0x1f86,'AA');
    memory.set(0x1f87,'98');
    memory.set(0x1f88,'10');
    memory.set(0x1f89,'03');
    memory.set(0x1f8a,'18');
    memory.set(0x1f8b,'69');
    memory.set(0x1f8c,'07');
    memory.set(0x1f8d,'CA');
    memory.set(0x1f8e,'D0');
    memory.set(0x1f8f,'FA');
    memory.set(0x1f90,'60');
    memory.set(0x1f91,'18');
    memory.set(0x1f92,'65');
    memory.set(0x1f93,'F7');
    memory.set(0x1f94,'85');
    memory.set(0x1f95,'F7');
    memory.set(0x1f96,'A5');
    memory.set(0x1f97,'F6');
    memory.set(0x1f98,'69');
    memory.set(0x1f99,'00');
    memory.set(0x1f9a,'85');
    memory.set(0x1f9b,'F6');
    memory.set(0x1f9c,'60');
    memory.set(0x1f9d,'20');
    memory.set(0x1f9e,'5A');
    memory.set(0x1f9f,'1E');
    memory.set(0x1fa0,'20');
    memory.set(0x1fa1,'AC');
    memory.set(0x1fa2,'1F');
    memory.set(0x1fa3,'20');
    memory.set(0x1fa4,'5A');
    memory.set(0x1fa5,'1E');
    memory.set(0x1fa6,'20');
    memory.set(0x1fa7,'AC');
    memory.set(0x1fa8,'1F');
    memory.set(0x1fa9,'A5');
    memory.set(0x1faa,'F8');
    memory.set(0x1fab,'60');
    memory.set(0x1fac,'C9');
    memory.set(0x1fad,'30');
    memory.set(0x1fae,'30');
    memory.set(0x1faf,'1B');
    memory.set(0x1fb0,'C9');
    memory.set(0x1fb1,'47');
    memory.set(0x1fb2,'10');
    memory.set(0x1fb3,'17');
    memory.set(0x1fb4,'C9');
    memory.set(0x1fb5,'40');
    memory.set(0x1fb6,'30');
    memory.set(0x1fb7,'03');
    memory.set(0x1fb8,'18');
    memory.set(0x1fb9,'69');
    memory.set(0x1fba,'09');
    memory.set(0x1fbb,'2A');
    memory.set(0x1fbc,'2A');
    memory.set(0x1fbd,'2A');
    memory.set(0x1fbe,'2A');
    memory.set(0x1fbf,'A0');
    memory.set(0x1fc0,'04');
    memory.set(0x1fc1,'2A');
    memory.set(0x1fc2,'26');
    memory.set(0x1fc3,'F8');
    memory.set(0x1fc4,'26');
    memory.set(0x1fc5,'F9');
    memory.set(0x1fc6,'88');
    memory.set(0x1fc7,'D0');
    memory.set(0x1fc8,'F8');
    memory.set(0x1fc9,'A9');
    memory.set(0x1fca,'00');
    memory.set(0x1fcb,'60');
    memory.set(0x1fcc,'A5');
    memory.set(0x1fcd,'F8');
    memory.set(0x1fce,'85');
    memory.set(0x1fcf,'FA');
    memory.set(0x1fd0,'A5');
    memory.set(0x1fd1,'F9');
    memory.set(0x1fd2,'85');
    memory.set(0x1fd3,'FB');
    memory.set(0x1fd4,'60');
    memory.set(0x1fd5,'00');
    memory.set(0x1fd6,'00');
    memory.set(0x1fd7,'00');
    memory.set(0x1fd8,'00');
    memory.set(0x1fd9,'00');
    memory.set(0x1fda,'00');
    memory.set(0x1fdb,'0A');
    memory.set(0x1fdc,'0D');
    memory.set(0x1fdd,'4D');
    memory.set(0x1fde,'49');
    memory.set(0x1fdf,'4B');
    memory.set(0x1fe0,'20');
    memory.set(0x1fe1,'13');
    memory.set(0x1fe2,'52');
    memory.set(0x1fe3,'52');
    memory.set(0x1fe4,'45');
    memory.set(0x1fe5,'20');
    memory.set(0x1fe6,'13');
    memory.set(0x1fe7,'BF');
    memory.set(0x1fe8,'86');
    memory.set(0x1fe9,'DB');
    memory.set(0x1fea,'CF');
    memory.set(0x1feb,'E6');
    memory.set(0x1fec,'ED');
    memory.set(0x1fed,'FD');
    memory.set(0x1fee,'87');
    memory.set(0x1fef,'FF');
    memory.set(0x1ff0,'EF');
    memory.set(0x1ff1,'F7');
    memory.set(0x1ff2,'FC');
    memory.set(0x1ff2,'B9');
    memory.set(0x1ff4,'DE');
    memory.set(0x1ff5,'F9');
    memory.set(0x1ff6,'F1');
    memory.set(0x1ffa,'1C');
    memory.set(0x1ffb,'1C');
    memory.set(0x1ffc,'22');
    memory.set(0x1ffd,'1C');
    memory.set(0x1ffe,'1F');
    memory.set(0x1fff,'1C');

}
